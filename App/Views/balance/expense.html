{% extends 'base.html' %}


{% block title %}
	
	{{ title }}

{% endblock %}

{% block footer %}
<script >
document.getElementById("submit_btn").addEventListener("click", function(event){

//var comment=document.getElementById('Textarea').value;
var comment=document.getElementById("Textarea").value;

const regex=/^[A-Za-z0-9 ,.]*$/;

if(!regex.test(comment)){
	
	

	document.getElementById("text_area_alert").innerHTML = "You can only use letters and numbers. Special characters are not allowed." ;
	$('#text_area_alert').show();
	
	
	setTimeout(function () {
				$( "#text_area_alert" ).hide('fade');
				},3000);
	
  event.preventDefault();
  
  }
  
});
</script>




{% endblock %}

{% block body %}



    
	
	    {% if expense.errors is not empty %}
        
        
            {% for error in expense.errors %}
               
				<div class="alert alert-warning " name='alerts_flash'  role="alert">{{ error }}</div>
            {% endfor %}
        
    {% endif %}
					<div id='text_area_alert'  class="alert alert-danger collapse" role="alert" >
			
			</div>
		
		<h1> {{ title }} </h1>


    {% if current_user %}
       
		




		
		
		<div class="row ">
		<div class=" p-2 bg-dark">
			<form action="/balance/create" method="post" id="form_item">
		
		
				<h6>Categorys:</h6>
				<div class="row  p-2 bg-dark ">
			{% for category in categorys %}
					<div class="col-md-4 ">
					<div class="form-check ">
					
					
					  
					  <label class="form-check-label"><input type="radio" class="form-check-input" id="ExpenseRadio" name="category" value="{{ category.name }}" checked>{{ category.name }}</label>
					</div>
					</div>
					
						
				
			{% endfor %}
				</div>
		
		
		</div>
		</div>
		<div class="row">
			<div class="col-md-4 ">


				<div class="form-group">
				<div class="p-2">
				<label for="expenseAmount">Amount:</label>
				<input id="expenseAmount"  type="number" step="0.01" min='0' required class="form-control" value="{{ expense.amount }}" name="amount"/>
				</div>
				</div>
						
				<div class="form group">
				<div class="p-2">
				<label for="date" >date of expense:</label>
				
								
								
								
																	
											  <input class="form-control"  type="text" value={{ time }} id="date" name="date"/>
											  


																		
				</div>
				</div>
				
			</div>
			<div class=" col-md-8">	
			<div class="p-2 ">
			
			
									
			<div class="p-2">
						<label for="Textarea" class="form-label">Comment:</label>
						<textarea  class="form-control" id="Textarea"  rows="5" cols="50" name="comment" ></textarea>
			</div>		
			

			</div>	
			</div>	
	
		</div>
			{% if payment_methods is defined %}
				<div class="row">	
					
						<div class="p-2  bg-dark">

							<h6>Payment methods:</h6>
							{% for payment_method in payment_methods %}
								
								<div class="form-check">
								
								<label class="form-check-label"><input type="radio" class="form-check-input" id="ExpensePyment" name="payment_method" value="{{ payment_method.name }}" checked>{{ payment_method.name }}</label>
								</div>

								
							{% endfor %}
					
						</div>
					
				</div>
			{% endif %}		
		

		<div class="row">		

			
			<div class="p-2 ">
				<button id="submit_btn" name='submit_button' class="btn btn-secondary" value="{{ title }}" type='submit'>Add {{ title }}</button>
			</div>
			
			</form>
		</div>
		
	
	

       
    {% else %}
        <a href="/signup/new">Sign up</a> or <a href="/login">log in</a>.
    {% endif %}

{% endblock %}
